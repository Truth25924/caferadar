{% extends "base.html" %} 
{% block content %}

<div class="edit-cafe-form">
  <h2>Edit Cafe Recommendation</h2>
  <form method="POST" action="{{ url_for('edit_cafe', cafe_id=cafe._id) }}" enctype="multipart/form-data">
    <label>
      Cafe Name:
      <input type="text" name="name" value="{{ cafe.name }}" required />
    </label>
    <label>
      Description:
      <textarea name="description" required>{{ cafe.description }}</textarea>
    </label>
    <label>
      Google Maps Link:
      <input type="url" name="maps_url" value="{{ cafe.maps_url }}" required />
    </label>
    <label>
      Address:
      <input type="text" name="address" value="{{ cafe.address or '' }}" placeholder="Cafe address..." required />
    </label>
    <label>
      Current Picture:<br>
      {% if cafe.image_url %}
        <img src="{{ cafe.image_url }}" alt="Cafe Image" style="max-width:180px;max-height:120px;border-radius:8px;margin:0.5rem 0;">
      {% else %}
        <span style="color:#888;">No image uploaded.</span>
      {% endif %}
    </label>
    <label>
      Change Picture:
      <input type="file" name="image" accept="image/*" />
      <small style="color:#888;">(Leave blank to keep current image)</small>
    </label>
    <button type="submit">Save Changes</button>
    <a href="{{ url_for('dashboard') }}">Cancel</a>
  </form>
</div>

{% endblock %}